






(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof module==='object'&&module.exports){ module.exports=factory(require('jquery'));}else{ factory(jQuery);}}(function($){var slice=Array.prototype.slice;var splice=Array.prototype.splice;var defaults={topSpacing:0,bottomSpacing:0,className:'is-sticky',wrapperClassName:'sticky-wrapper',center:false,getWidthFrom:'',widthFromWrapper:true, responsiveWidth:false},$window=$(window),$document=$(document),sticked=[],windowHeight=$window.height(),scroller=function(){var scrollTop=$window.scrollTop(),documentHeight=$document.height(),dwh=documentHeight-windowHeight,extra=(scrollTop>dwh)?dwh-scrollTop:0;for(var i=0,l=sticked.length;i<l;i++){var s=sticked[i],elementTop=s.stickyWrapper.offset().top,etse=elementTop-s.topSpacing-extra; s.stickyWrapper.css('height',s.stickyElement.outerHeight());if(scrollTop<=etse){if(s.currentTop!==null){s.stickyElement.css({'width':'','position':'','top':''});s.stickyElement.parent().removeClass(s.className);s.stickyElement.trigger('sticky-end',[s]);s.currentTop=null;}}
else{var newTop=documentHeight-s.stickyElement.outerHeight()
-s.topSpacing-s.bottomSpacing-scrollTop-extra;if(newTop<0){newTop=newTop+s.topSpacing;}else{newTop=s.topSpacing;}
if(s.currentTop!==newTop){var newWidth;if(s.getWidthFrom){newWidth=$(s.getWidthFrom).width()||null;}else if(s.widthFromWrapper){newWidth=s.stickyWrapper.width();}
if(newWidth==null){newWidth=s.stickyElement.width();}
s.stickyElement.css('width',newWidth).css('position','fixed').css('top',newTop);s.stickyElement.parent().addClass(s.className);if(s.currentTop===null){s.stickyElement.trigger('sticky-start',[s]);}else{ s.stickyElement.trigger('sticky-update',[s]);}
if(s.currentTop===s.topSpacing&&s.currentTop>newTop||s.currentTop===null&&newTop<s.topSpacing){ s.stickyElement.trigger('sticky-bottom-reached',[s]);}else if(s.currentTop!==null&&newTop===s.topSpacing&&s.currentTop<newTop){ s.stickyElement.trigger('sticky-bottom-unreached',[s]);}
s.currentTop=newTop;}}}},resizer=function(){windowHeight=$window.height();for(var i=0,l=sticked.length;i<l;i++){var s=sticked[i];var newWidth=null;if(s.getWidthFrom){if(s.responsiveWidth){newWidth=$(s.getWidthFrom).width();}}else if(s.widthFromWrapper){newWidth=s.stickyWrapper.width();}
if(newWidth!=null){s.stickyElement.css('width',newWidth);}}},methods={init:function(options){var o=$.extend({},defaults,options);return this.each(function(){var stickyElement=$(this);var stickyId=stickyElement.attr('id');var stickyHeight=stickyElement.outerHeight();var wrapperId=stickyId?stickyId+'-'+defaults.wrapperClassName:defaults.wrapperClassName;var wrapper=$('<div></div>').attr('id',wrapperId).addClass(o.wrapperClassName);stickyElement.wrapAll(wrapper);var stickyWrapper=stickyElement.parent();if(o.center){stickyWrapper.css({width:stickyElement.outerWidth(),marginLeft:"auto",marginRight:"auto"});}
if(stickyElement.css("float")==="right"){stickyElement.css({"float":"none"}).parent().css({"float":"right"});}
stickyWrapper.css('height',stickyHeight);o.stickyElement=stickyElement;o.stickyWrapper=stickyWrapper;o.currentTop=null;sticked.push(o);});},update:scroller,unstick:function(options){return this.each(function(){var that=this;var unstickyElement=$(that);var removeIdx=-1;var i=sticked.length;while(i-->0){if(sticked[i].stickyElement.get(0)===that){splice.call(sticked,i,1);removeIdx=i;}}
if(removeIdx!==-1){unstickyElement.unwrap();unstickyElement.css({'width':'','position':'','top':'','float':''});}});}};if(window.addEventListener){window.addEventListener('scroll',scroller,false);window.addEventListener('resize',resizer,false);}else if(window.attachEvent){window.attachEvent('onscroll',scroller);window.attachEvent('onresize',resizer);}
$.fn.sticky=function(method){if(methods[method]){return methods[method].apply(this,slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.sticky');}};$.fn.unstick=function(method){if(methods[method]){return methods[method].apply(this,slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.unstick.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.sticky');}};$(function(){setTimeout(scroller,0);});}));(function(global,factory){'use strict';if(typeof define==='function'&&define.amd){define(function(){return(global.Tap=factory(global,global.document));});}else if(typeof exports==='object'){module.exports=factory(global,global.document);}else{global.Tap=factory(global,global.document);}}(typeof window!=='undefined'?window:this,function(window,document){'use strict';function Tap(el){this.el=typeof el==='object'?el:document.getElementById(el);this.moved=false; this.startX=0; this.startY=0; this.hasTouchEventOccured=false; this.el.addEventListener('touchstart',this,false);this.el.addEventListener('mousedown',this,false);}
Tap.prototype.start=function(e){if(e.type==='touchstart'){this.hasTouchEventOccured=true;this.el.addEventListener('touchmove',this,false);this.el.addEventListener('touchend',this,false);this.el.addEventListener('touchcancel',this,false);}else if(e.type==='mousedown'){this.el.addEventListener('mouseup',this,false);}
this.moved=false;this.startX=e.type==='touchstart'?e.touches[0].clientX:e.clientX;this.startY=e.type==='touchstart'?e.touches[0].clientY:e.clientY;};Tap.prototype.move=function(e){ if(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10){this.moved=true;}};Tap.prototype.end=function(e){var evt;this.el.removeEventListener('touchmove',this,false);this.el.removeEventListener('touchend',this,false);this.el.removeEventListener('touchcancel',this,false);this.el.removeEventListener('mouseup',this,false);if(!this.moved){ try{evt=new window.CustomEvent('tap',{bubbles:true,cancelable:true});}catch(e){evt=document.createEvent('Event');evt.initEvent('tap',true,true);}
 
e.stopPropagation();if(!e.target.dispatchEvent(evt)){e.preventDefault();}}};Tap.prototype.cancel=function(){this.hasTouchEventOccured=false;this.moved=false;this.startX=0;this.startY=0;};Tap.prototype.destroy=function(){this.el.removeEventListener('touchstart',this,false);this.el.removeEventListener('touchmove',this,false);this.el.removeEventListener('touchend',this,false);this.el.removeEventListener('touchcancel',this,false);this.el.removeEventListener('mousedown',this,false);this.el.removeEventListener('mouseup',this,false);};Tap.prototype.handleEvent=function(e){switch(e.type){case'touchstart':this.start(e);break;case'touchmove':this.move(e);break;case'touchend':this.end(e);break;case'touchcancel':this.cancel(e);break;case'mousedown':this.start(e);break;case'mouseup':this.end(e);break;}};return Tap;}));(function(factory){if(typeof define==='function'&&define.amd){define(['jquery','tap'],factory);}else if(typeof exports==='object'){module.exports=factory(require('jquery'),require('tap'));}else{factory(jQuery,Tap);}}(function($,Tap){'use strict';$.event.special.tap=(function(){ if(!document.addEventListener)return{bindType:'click',delegateType:'click'};var dataKey='tap.js';return{setup:function(){$.data(this,dataKey,new Tap(this));return false;},teardown:function(){var tap=$.data(this,dataKey);if(tap&&tap.destroy){tap.destroy();$.removeData(this,dataKey);}
return false;}};}());}));(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);